var Et=Object.defineProperty;var a=(e,t)=>Et(e,"name",{value:t,configurable:!0});function h(e){return new Error(`[unenv] ${e} is not implemented yet!`)}a(h,"createNotImplementedError");function v(e){return Object.assign(a(()=>{throw h(e)},"fn"),{__unenv__:!0})}a(v,"notImplemented");function Oe(e){return class{__unenv__=!0;constructor(){throw new Error(`[unenv] ${e} is not implemented yet!`)}}}a(Oe,"notImplementedClass");var se=globalThis.performance?.timeOrigin??Date.now(),oe=globalThis.performance?.now?globalThis.performance.now.bind(globalThis.performance):()=>Date.now()-se,_t={name:"node",entryType:"node",startTime:0,duration:0,nodeStart:0,v8Start:0,bootstrapComplete:0,environment:0,loopStart:0,loopExit:0,idleTime:0,uvMetricsInfo:{loopCount:0,events:0,eventsWaiting:0},detail:void 0,toJSON(){return this}},O=class{static{a(this,"PerformanceEntry")}__unenv__=!0;detail;entryType="event";name;startTime;constructor(t,r){this.name=t,this.startTime=r?.startTime||oe(),this.detail=r?.detail}get duration(){return oe()-this.startTime}toJSON(){return{name:this.name,entryType:this.entryType,startTime:this.startTime,duration:this.duration,detail:this.detail}}},ie=class extends O{static{a(this,"PerformanceMark")}entryType="mark";constructor(){super(...arguments)}get duration(){return 0}},H=class extends O{static{a(this,"PerformanceMeasure")}entryType="measure"},k=class extends O{static{a(this,"PerformanceResourceTiming")}entryType="resource";serverTiming=[];connectEnd=0;connectStart=0;decodedBodySize=0;domainLookupEnd=0;domainLookupStart=0;encodedBodySize=0;fetchStart=0;initiatorType="";name="";nextHopProtocol="";redirectEnd=0;redirectStart=0;requestStart=0;responseEnd=0;responseStart=0;secureConnectionStart=0;startTime=0;transferSize=0;workerStart=0;responseStatus=0},U=class{static{a(this,"PerformanceObserverEntryList")}__unenv__=!0;getEntries(){return[]}getEntriesByName(t,r){return[]}getEntriesByType(t){return[]}},j=class{static{a(this,"Performance")}__unenv__=!0;timeOrigin=se;eventCounts=new Map;_entries=[];_resourceTimingBufferSize=0;navigation=void 0;timing=void 0;timerify(t,r){throw h("Performance.timerify")}get nodeTiming(){return _t}eventLoopUtilization(){return{}}markResourceTiming(){return new k("")}onresourcetimingbufferfull=null;now(){return this.timeOrigin===se?oe():Date.now()-this.timeOrigin}clearMarks(t){this._entries=t?this._entries.filter(r=>r.name!==t):this._entries.filter(r=>r.entryType!=="mark")}clearMeasures(t){this._entries=t?this._entries.filter(r=>r.name!==t):this._entries.filter(r=>r.entryType!=="measure")}clearResourceTimings(){this._entries=this._entries.filter(t=>t.entryType!=="resource"||t.entryType!=="navigation")}getEntries(){return this._entries}getEntriesByName(t,r){return this._entries.filter(n=>n.name===t&&(!r||n.entryType===r))}getEntriesByType(t){return this._entries.filter(r=>r.entryType===t)}mark(t,r){let n=new ie(t,r);return this._entries.push(n),n}measure(t,r,n){let s,o;typeof r=="string"?(s=this.getEntriesByName(r,"mark")[0]?.startTime,o=this.getEntriesByName(n,"mark")[0]?.startTime):(s=Number.parseFloat(r?.start)||this.now(),o=Number.parseFloat(r?.end)||this.now());let i=new H(t,{startTime:s,detail:{start:s,end:o}});return this._entries.push(i),i}setResourceTimingBufferSize(t){this._resourceTimingBufferSize=t}addEventListener(t,r,n){throw h("Performance.addEventListener")}removeEventListener(t,r,n){throw h("Performance.removeEventListener")}dispatchEvent(t){throw h("Performance.dispatchEvent")}toJSON(){return this}},q=class{static{a(this,"PerformanceObserver")}__unenv__=!0;static supportedEntryTypes=[];_callback=null;constructor(t){this._callback=t}takeRecords(){return[]}disconnect(){throw h("PerformanceObserver.disconnect")}observe(t){throw h("PerformanceObserver.observe")}bind(t){return t}runInAsyncScope(t,r,...n){return t.call(r,...n)}asyncId(){return 0}triggerAsyncId(){return 0}emitDestroy(){return this}},Ae=globalThis.performance&&"addEventListener"in globalThis.performance?globalThis.performance:new j;globalThis.performance=Ae;globalThis.Performance=j;globalThis.PerformanceEntry=O;globalThis.PerformanceMark=ie;globalThis.PerformanceMeasure=H;globalThis.PerformanceObserver=q;globalThis.PerformanceObserverEntryList=U;globalThis.PerformanceResourceTiming=k;import{Writable as Ne}from"node:stream";var _=Object.assign(()=>{},{__unenv__:!0});var p=globalThis.console,Pe=!0,Se=new Ne,Ce=new Ne,z=p?.log??_,xt=p?.info??z,Ts=p?.trace??xt,vs=p?.debug??z,bs=p?.table??z,wt=p?.error??z,Os=p?.warn??wt,As=p?.createTask??v("console.createTask");var Ns=p?.clear??_,Ps=p?.count??_,Ss=p?.countReset??_,Cs=p?.dir??_,Is=p?.dirxml??_,Ms=p?.group??_,Ds=p?.groupEnd??_,Ls=p?.groupCollapsed??_,Hs=p?.profile??_,ks=p?.profileEnd??_,js=p?.time??_,Fs=p?.timeEnd??_,Ws=p?.timeLog??_,$s=p?.timeStamp??_,Ie=p?.Console??Oe("console.Console"),Me=new Map;var De=_,Le=_;var ae=globalThis.console,{assert:Ks,clear:Js,context:Qs,count:Xs,countReset:Zs,createTask:eo,debug:to,dir:ro,dirxml:no,error:so,group:oo,groupCollapsed:io,groupEnd:ao,info:co,log:lo,profile:uo,profileEnd:fo,table:ho,time:po,timeEnd:mo,timeLog:go,timeStamp:Eo,trace:_o,warn:xo}=ae;Object.assign(ae,{Console:Ie,_ignoreErrors:Pe,_stderr:Se,_stderrErrorHandler:Le,_stdout:Ce,_stdoutErrorHandler:De,_times:Me});var He=ae;globalThis.console=He;var ke=Object.assign(a(function(t){let r=Date.now(),n=Math.trunc(r/1e3),s=r%1e3*1e6;if(t){let o=n-t[0],i=s-t[0];return i<0&&(o=o-1,i=1e9+i),[o,i]}return[n,s]},"hrtime"),{bigint:a(function(){return BigInt(Date.now()*1e6)},"bigint")});import{EventEmitter as je}from"node:events";var F=class{static{a(this,"ReadStream")}fd;isRaw=!1;isTTY=!1;constructor(t){this.fd=t}setRawMode(t){return this.isRaw=t,this}};var C=class{static{a(this,"WriteStream")}fd;columns=80;rows=24;isTTY=!1;constructor(t){this.fd=t}clearLine(t,r){return r&&r(),!1}clearScreenDown(t){return t&&t(),!1}cursorTo(t,r,n){return n&&typeof n=="function"&&n(),!1}moveCursor(t,r,n){return n&&n(),!1}getColorDepth(t){return 1}hasColors(t,r){return!1}getWindowSize(){return[this.columns,this.rows]}write(t,r,n){t instanceof Uint8Array&&(t=new TextDecoder().decode(t));try{console.log(t)}catch{}return n&&typeof n=="function"&&n(),!1}};var ce="22.14.0";var Y=class e extends je{static{a(this,"Process")}env;hrtime;nextTick;constructor(t){super(),this.env=t.env,this.hrtime=t.hrtime,this.nextTick=t.nextTick;for(let r of[...Object.getOwnPropertyNames(e.prototype),...Object.getOwnPropertyNames(je.prototype)]){let n=this[r];typeof n=="function"&&(this[r]=n.bind(this))}}emitWarning(t,r,n){console.warn(`${n?`[${n}] `:""}${r?`${r}: `:""}${t}`)}emit(...t){return super.emit(...t)}listeners(t){return super.listeners(t)}#t;#e;#r;get stdin(){return this.#t??=new F(0)}get stdout(){return this.#e??=new C(1)}get stderr(){return this.#r??=new C(2)}#o="/";chdir(t){this.#o=t}cwd(){return this.#o}arch="";platform="";argv=[];argv0="";execArgv=[];execPath="";title="";pid=200;ppid=100;get version(){return`v${ce}`}get versions(){return{node:ce}}get allowedNodeEnvironmentFlags(){return new Set}get sourceMapsEnabled(){return!1}get debugPort(){return 0}get throwDeprecation(){return!1}get traceDeprecation(){return!1}get features(){return{}}get release(){return{}}get connected(){return!1}get config(){return{}}get moduleLoadList(){return[]}constrainedMemory(){return 0}availableMemory(){return 0}uptime(){return 0}resourceUsage(){return{}}ref(){}unref(){}umask(){throw h("process.umask")}getBuiltinModule(){}getActiveResourcesInfo(){throw h("process.getActiveResourcesInfo")}exit(){throw h("process.exit")}reallyExit(){throw h("process.reallyExit")}kill(){throw h("process.kill")}abort(){throw h("process.abort")}dlopen(){throw h("process.dlopen")}setSourceMapsEnabled(){throw h("process.setSourceMapsEnabled")}loadEnvFile(){throw h("process.loadEnvFile")}disconnect(){throw h("process.disconnect")}cpuUsage(){throw h("process.cpuUsage")}setUncaughtExceptionCaptureCallback(){throw h("process.setUncaughtExceptionCaptureCallback")}hasUncaughtExceptionCaptureCallback(){throw h("process.hasUncaughtExceptionCaptureCallback")}initgroups(){throw h("process.initgroups")}openStdin(){throw h("process.openStdin")}assert(){throw h("process.assert")}binding(){throw h("process.binding")}permission={has:v("process.permission.has")};report={directory:"",filename:"",signal:"SIGUSR2",compact:!1,reportOnFatalError:!1,reportOnSignal:!1,reportOnUncaughtException:!1,getReport:v("process.report.getReport"),writeReport:v("process.report.writeReport")};finalization={register:v("process.finalization.register"),unregister:v("process.finalization.unregister"),registerBeforeExit:v("process.finalization.registerBeforeExit")};memoryUsage=Object.assign(()=>({arrayBuffers:0,rss:0,external:0,heapTotal:0,heapUsed:0}),{rss:a(()=>0,"rss")});mainModule=void 0;domain=void 0;send=void 0;exitCode=void 0;channel=void 0;getegid=void 0;geteuid=void 0;getgid=void 0;getgroups=void 0;getuid=void 0;setegid=void 0;seteuid=void 0;setgid=void 0;setgroups=void 0;setuid=void 0;_events=void 0;_eventsCount=void 0;_exiting=void 0;_maxListeners=void 0;_debugEnd=void 0;_debugProcess=void 0;_fatalException=void 0;_getActiveHandles=void 0;_getActiveRequests=void 0;_kill=void 0;_preload_modules=void 0;_rawDebug=void 0;_startProfilerIdleNotifier=void 0;_stopProfilerIdleNotifier=void 0;_tickCallback=void 0;_disconnect=void 0;_handleQueue=void 0;_pendingMessage=void 0;_channel=void 0;_send=void 0;_linkedBinding=void 0};var Fe=globalThis.process,We=Fe.getBuiltinModule,{exit:yt,platform:Rt,nextTick:$e}=We("node:process"),Tt=new Y({env:Fe.env,hrtime:ke,nextTick:$e}),{abort:vt,addListener:bt,allowedNodeEnvironmentFlags:Ot,hasUncaughtExceptionCaptureCallback:At,setUncaughtExceptionCaptureCallback:Nt,loadEnvFile:Pt,sourceMapsEnabled:St,arch:Ct,argv:It,argv0:Mt,chdir:Dt,config:Lt,connected:Ht,constrainedMemory:kt,availableMemory:jt,cpuUsage:Ft,cwd:Wt,debugPort:$t,dlopen:Bt,disconnect:Gt,emit:Ut,emitWarning:qt,env:zt,eventNames:Yt,execArgv:Vt,execPath:Kt,finalization:Jt,features:Qt,getActiveResourcesInfo:Xt,getMaxListeners:Zt,hrtime:er,kill:tr,listeners:rr,listenerCount:nr,memoryUsage:sr,on:or,off:ir,once:ar,pid:cr,ppid:lr,prependListener:ur,prependOnceListener:dr,rawListeners:fr,release:hr,removeAllListeners:pr,removeListener:mr,report:gr,resourceUsage:Er,setMaxListeners:_r,setSourceMapsEnabled:xr,stderr:wr,stdin:yr,stdout:Rr,title:Tr,throwDeprecation:vr,traceDeprecation:br,umask:Or,uptime:Ar,version:Nr,versions:Pr,domain:Sr,initgroups:Cr,moduleLoadList:Ir,reallyExit:Mr,openStdin:Dr,assert:Lr,binding:Hr,send:kr,exitCode:jr,channel:Fr,getegid:Wr,geteuid:$r,getgid:Br,getgroups:Gr,getuid:Ur,setegid:qr,seteuid:zr,setgid:Yr,setgroups:Vr,setuid:Kr,permission:Jr,mainModule:Qr,_events:Xr,_eventsCount:Zr,_exiting:en,_maxListeners:tn,_debugEnd:rn,_debugProcess:nn,_fatalException:sn,_getActiveHandles:on,_getActiveRequests:an,_kill:cn,_preload_modules:ln,_rawDebug:un,_startProfilerIdleNotifier:dn,_stopProfilerIdleNotifier:fn,_tickCallback:hn,_disconnect:pn,_handleQueue:mn,_pendingMessage:gn,_channel:En,_send:_n,_linkedBinding:xn}=Tt,wn={abort:vt,addListener:bt,allowedNodeEnvironmentFlags:Ot,hasUncaughtExceptionCaptureCallback:At,setUncaughtExceptionCaptureCallback:Nt,loadEnvFile:Pt,sourceMapsEnabled:St,arch:Ct,argv:It,argv0:Mt,chdir:Dt,config:Lt,connected:Ht,constrainedMemory:kt,availableMemory:jt,cpuUsage:Ft,cwd:Wt,debugPort:$t,dlopen:Bt,disconnect:Gt,emit:Ut,emitWarning:qt,env:zt,eventNames:Yt,execArgv:Vt,execPath:Kt,exit:yt,finalization:Jt,features:Qt,getBuiltinModule:We,getActiveResourcesInfo:Xt,getMaxListeners:Zt,hrtime:er,kill:tr,listeners:rr,listenerCount:nr,memoryUsage:sr,nextTick:$e,on:or,off:ir,once:ar,pid:cr,platform:Rt,ppid:lr,prependListener:ur,prependOnceListener:dr,rawListeners:fr,release:hr,removeAllListeners:pr,removeListener:mr,report:gr,resourceUsage:Er,setMaxListeners:_r,setSourceMapsEnabled:xr,stderr:wr,stdin:yr,stdout:Rr,title:Tr,throwDeprecation:vr,traceDeprecation:br,umask:Or,uptime:Ar,version:Nr,versions:Pr,domain:Sr,initgroups:Cr,moduleLoadList:Ir,reallyExit:Mr,openStdin:Dr,assert:Lr,binding:Hr,send:kr,exitCode:jr,channel:Fr,getegid:Wr,geteuid:$r,getgid:Br,getgroups:Gr,getuid:Ur,setegid:qr,seteuid:zr,setgid:Yr,setgroups:Vr,setuid:Kr,permission:Jr,mainModule:Qr,_events:Xr,_eventsCount:Zr,_exiting:en,_maxListeners:tn,_debugEnd:rn,_debugProcess:nn,_fatalException:sn,_getActiveHandles:on,_getActiveRequests:an,_kill:cn,_preload_modules:ln,_rawDebug:un,_startProfilerIdleNotifier:dn,_stopProfilerIdleNotifier:fn,_tickCallback:hn,_disconnect:pn,_handleQueue:mn,_pendingMessage:gn,_channel:En,_send:_n,_linkedBinding:xn},Be=wn;globalThis.process=Be;var le=a((e,t,r)=>(n,s)=>{let o=-1;return i(0);async function i(l){if(l<=o)throw new Error("next() called multiple times");o=l;let c,u=!1,d;if(e[l]?(d=e[l][0][0],n.req.routeIndex=l):d=l===e.length&&s||void 0,d)try{c=await d(n,()=>i(l+1))}catch(f){if(f instanceof Error&&t)n.error=f,c=await t(f,n),u=!0;else throw f}else n.finalized===!1&&r&&(c=await r(n));return c&&(n.finalized===!1||u)&&(n.res=c),n}},"compose");var Ge=Symbol();var Ue=a(async(e,t=Object.create(null))=>{let{all:r=!1,dot:n=!1}=t,o=(e instanceof V?e.raw.headers:e.headers).get("Content-Type");return o?.startsWith("multipart/form-data")||o?.startsWith("application/x-www-form-urlencoded")?yn(e,{all:r,dot:n}):{}},"parseBody");async function yn(e,t){let r=await e.formData();return r?Rn(r,t):{}}a(yn,"parseFormData");function Rn(e,t){let r=Object.create(null);return e.forEach((n,s)=>{t.all||s.endsWith("[]")?Tn(r,s,n):r[s]=n}),t.dot&&Object.entries(r).forEach(([n,s])=>{n.includes(".")&&(vn(r,n,s),delete r[n])}),r}a(Rn,"convertFormDataToBodyData");var Tn=a((e,t,r)=>{e[t]!==void 0?Array.isArray(e[t])?e[t].push(r):e[t]=[e[t],r]:t.endsWith("[]")?e[t]=[r]:e[t]=r},"handleParsingAllValues"),vn=a((e,t,r)=>{let n=e,s=t.split(".");s.forEach((o,i)=>{i===s.length-1?n[o]=r:((!n[o]||typeof n[o]!="object"||Array.isArray(n[o])||n[o]instanceof File)&&(n[o]=Object.create(null)),n=n[o])})},"handleParsingNestedValues");var de=a(e=>{let t=e.split("/");return t[0]===""&&t.shift(),t},"splitPath"),qe=a(e=>{let{groups:t,path:r}=bn(e),n=de(r);return On(n,t)},"splitRoutingPath"),bn=a(e=>{let t=[];return e=e.replace(/\{[^}]+\}/g,(r,n)=>{let s=`@${n}`;return t.push([s,r]),s}),{groups:t,path:e}},"extractGroupsFromPath"),On=a((e,t)=>{for(let r=t.length-1;r>=0;r--){let[n]=t[r];for(let s=e.length-1;s>=0;s--)if(e[s].includes(n)){e[s]=e[s].replace(n,t[r][1]);break}}return e},"replaceGroupMarks"),K={},ze=a((e,t)=>{if(e==="*")return"*";let r=e.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(r){let n=`${e}#${t}`;return K[n]||(r[2]?K[n]=t&&t[0]!==":"&&t[0]!=="*"?[n,r[1],new RegExp(`^${r[2]}(?=/${t})`)]:[e,r[1],new RegExp(`^${r[2]}$`)]:K[n]=[e,r[1],!0]),K[n]}return null},"getPattern"),J=a((e,t)=>{try{return t(e)}catch{return e.replace(/(?:%[0-9A-Fa-f]{2})+/g,r=>{try{return t(r)}catch{return r}})}},"tryDecode"),An=a(e=>J(e,decodeURI),"tryDecodeURI"),fe=a(e=>{let t=e.url,r=t.indexOf("/",t.indexOf(":")+4),n=r;for(;n<t.length;n++){let s=t.charCodeAt(n);if(s===37){let o=t.indexOf("?",n),i=t.slice(r,o===-1?void 0:o);return An(i.includes("%25")?i.replace(/%25/g,"%2525"):i)}else if(s===63)break}return t.slice(r,n)},"getPath");var Ye=a(e=>{let t=fe(e);return t.length>1&&t.at(-1)==="/"?t.slice(0,-1):t},"getPathNoStrict"),A=a((e,t,...r)=>(r.length&&(t=A(t,...r)),`${e?.[0]==="/"?"":"/"}${e}${t==="/"?"":`${e?.at(-1)==="/"?"":"/"}${t?.[0]==="/"?t.slice(1):t}`}`),"mergePath"),Q=a(e=>{if(e.charCodeAt(e.length-1)!==63||!e.includes(":"))return null;let t=e.split("/"),r=[],n="";return t.forEach(s=>{if(s!==""&&!/\:/.test(s))n+="/"+s;else if(/\:/.test(s))if(/\?/.test(s)){r.length===0&&n===""?r.push("/"):r.push(n);let o=s.replace("?","");n+="/"+o,r.push(n)}else n+="/"+s}),r.filter((s,o,i)=>i.indexOf(s)===o)},"checkOptionalParameter"),ue=a(e=>/[%+]/.test(e)?(e.indexOf("+")!==-1&&(e=e.replace(/\+/g," ")),e.indexOf("%")!==-1?J(e,he):e):e,"_decodeURI"),Ve=a((e,t,r)=>{let n;if(!r&&t&&!/[%+]/.test(t)){let i=e.indexOf(`?${t}`,8);for(i===-1&&(i=e.indexOf(`&${t}`,8));i!==-1;){let l=e.charCodeAt(i+t.length+1);if(l===61){let c=i+t.length+2,u=e.indexOf("&",c);return ue(e.slice(c,u===-1?void 0:u))}else if(l==38||isNaN(l))return"";i=e.indexOf(`&${t}`,i+1)}if(n=/[%+]/.test(e),!n)return}let s={};n??=/[%+]/.test(e);let o=e.indexOf("?",8);for(;o!==-1;){let i=e.indexOf("&",o+1),l=e.indexOf("=",o);l>i&&i!==-1&&(l=-1);let c=e.slice(o+1,l===-1?i===-1?void 0:i:l);if(n&&(c=ue(c)),o=i,c==="")continue;let u;l===-1?u="":(u=e.slice(l+1,i===-1?void 0:i),n&&(u=ue(u))),r?(s[c]&&Array.isArray(s[c])||(s[c]=[]),s[c].push(u)):s[c]??=u}return t?s[t]:s},"_getQueryParam"),Ke=Ve,Je=a((e,t)=>Ve(e,t,!0),"getQueryParams"),he=decodeURIComponent;var Qe=a(e=>J(e,he),"tryDecodeURIComponent"),V=class{static{a(this,"HonoRequest")}raw;#t;#e;routeIndex=0;path;bodyCache={};constructor(e,t="/",r=[[]]){this.raw=e,this.path=t,this.#e=r,this.#t={}}param(e){return e?this.#r(e):this.#o()}#r(e){let t=this.#e[0][this.routeIndex][1][e],r=this.#s(t);return r?/\%/.test(r)?Qe(r):r:void 0}#o(){let e={},t=Object.keys(this.#e[0][this.routeIndex][1]);for(let r of t){let n=this.#s(this.#e[0][this.routeIndex][1][r]);n&&typeof n=="string"&&(e[r]=/\%/.test(n)?Qe(n):n)}return e}#s(e){return this.#e[1]?this.#e[1][e]:e}query(e){return Ke(this.url,e)}queries(e){return Je(this.url,e)}header(e){if(e)return this.raw.headers.get(e)??void 0;let t={};return this.raw.headers.forEach((r,n)=>{t[n]=r}),t}async parseBody(e){return this.bodyCache.parsedBody??=await Ue(this,e)}#n=a(e=>{let{bodyCache:t,raw:r}=this,n=t[e];if(n)return n;let s=Object.keys(t)[0];return s?t[s].then(o=>(s==="json"&&(o=JSON.stringify(o)),new Response(o)[e]())):t[e]=r[e]()},"#cachedBody");json(){return this.#n("text").then(e=>JSON.parse(e))}text(){return this.#n("text")}arrayBuffer(){return this.#n("arrayBuffer")}blob(){return this.#n("blob")}formData(){return this.#n("formData")}addValidatedData(e,t){this.#t[e]=t}valid(e){return this.#t[e]}get url(){return this.raw.url}get method(){return this.raw.method}get[Ge](){return this.#e}get matchedRoutes(){return this.#e[0].map(([[,e]])=>e)}get routePath(){return this.#e[0].map(([[,e]])=>e)[this.routeIndex].path}};var Xe={Stringify:1,BeforeStream:2,Stream:3},Nn=a((e,t)=>{let r=new String(e);return r.isEscaped=!0,r.callbacks=t,r},"raw");var pe=a(async(e,t,r,n,s)=>{typeof e=="object"&&!(e instanceof String)&&(e instanceof Promise||(e=e.toString()),e instanceof Promise&&(e=await e));let o=e.callbacks;if(!o?.length)return Promise.resolve(e);s?s[0]+=e:s=[e];let i=Promise.all(o.map(l=>l({phase:t,buffer:s,context:n}))).then(l=>Promise.all(l.filter(Boolean).map(c=>pe(c,t,!1,n,s))).then(()=>s[0]));return r?Nn(await i,o):i},"resolveCallback");var Pn="text/plain; charset=UTF-8",me=a((e,t)=>({"Content-Type":e,...t}),"setDefaultContentType"),Ze=class{static{a(this,"Context")}#t;#e;env={};#r;finalized=!1;error;#o;#s;#n;#u;#c;#l;#a;#d;#f;constructor(e,t){this.#t=e,t&&(this.#s=t.executionCtx,this.env=t.env,this.#l=t.notFoundHandler,this.#f=t.path,this.#d=t.matchResult)}get req(){return this.#e??=new V(this.#t,this.#f,this.#d),this.#e}get event(){if(this.#s&&"respondWith"in this.#s)return this.#s;throw Error("This context has no FetchEvent")}get executionCtx(){if(this.#s)return this.#s;throw Error("This context has no ExecutionContext")}get res(){return this.#n||=new Response(null,{headers:this.#a??=new Headers})}set res(e){if(this.#n&&e){e=new Response(e.body,e);for(let[t,r]of this.#n.headers.entries())if(t!=="content-type")if(t==="set-cookie"){let n=this.#n.headers.getSetCookie();e.headers.delete("set-cookie");for(let s of n)e.headers.append("set-cookie",s)}else e.headers.set(t,r)}this.#n=e,this.finalized=!0}render=a((...e)=>(this.#c??=t=>this.html(t),this.#c(...e)),"render");setLayout=a(e=>this.#u=e,"setLayout");getLayout=a(()=>this.#u,"getLayout");setRenderer=a(e=>{this.#c=e},"setRenderer");header=a((e,t,r)=>{this.finalized&&(this.#n=new Response(this.#n.body,this.#n));let n=this.#n?this.#n.headers:this.#a??=new Headers;t===void 0?n.delete(e):r?.append?n.append(e,t):n.set(e,t)},"header");status=a(e=>{this.#o=e},"status");set=a((e,t)=>{this.#r??=new Map,this.#r.set(e,t)},"set");get=a(e=>this.#r?this.#r.get(e):void 0,"get");get var(){return this.#r?Object.fromEntries(this.#r):{}}#i(e,t,r){let n=this.#n?new Headers(this.#n.headers):this.#a??new Headers;if(typeof t=="object"&&"headers"in t){let o=t.headers instanceof Headers?t.headers:new Headers(t.headers);for(let[i,l]of o)i.toLowerCase()==="set-cookie"?n.append(i,l):n.set(i,l)}if(r)for(let[o,i]of Object.entries(r))if(typeof i=="string")n.set(o,i);else{n.delete(o);for(let l of i)n.append(o,l)}let s=typeof t=="number"?t:t?.status??this.#o;return new Response(e,{status:s,headers:n})}newResponse=a((...e)=>this.#i(...e),"newResponse");body=a((e,t,r)=>this.#i(e,t,r),"body");text=a((e,t,r)=>!this.#a&&!this.#o&&!t&&!r&&!this.finalized?new Response(e):this.#i(e,t,me(Pn,r)),"text");json=a((e,t,r)=>this.#i(JSON.stringify(e),t,me("application/json",r)),"json");html=a((e,t,r)=>{let n=a(s=>this.#i(s,t,me("text/html; charset=UTF-8",r)),"res");return typeof e=="object"?pe(e,Xe.Stringify,!1,{}).then(n):n(e)},"html");redirect=a((e,t)=>{let r=String(e);return this.header("Location",/[^\x00-\xFF]/.test(r)?encodeURI(r):r),this.newResponse(null,t??302)},"redirect");notFound=a(()=>(this.#l??=()=>new Response,this.#l(this)),"notFound")};var m="ALL",et="all",tt=["get","post","put","delete","options","patch"],X="Can not add a route since the matcher is already built.",Z=class extends Error{static{a(this,"UnsupportedPathError")}};var rt="__COMPOSED_HANDLER";var Sn=a(e=>e.text("404 Not Found",404),"notFoundHandler"),nt=a((e,t)=>{if("getResponse"in e){let r=e.getResponse();return t.newResponse(r.body,r)}return console.error(e),t.text("Internal Server Error",500)},"errorHandler"),ge=class{static{a(this,"Hono")}get;post;put;delete;options;patch;all;on;use;router;getPath;_basePath="/";#t="/";routes=[];constructor(e={}){[...tt,et].forEach(s=>{this[s]=(o,...i)=>(typeof o=="string"?this.#t=o:this.#o(s,this.#t,o),i.forEach(l=>{this.#o(s,this.#t,l)}),this)}),this.on=(s,o,...i)=>{for(let l of[o].flat()){this.#t=l;for(let c of[s].flat())i.map(u=>{this.#o(c.toUpperCase(),this.#t,u)})}return this},this.use=(s,...o)=>(typeof s=="string"?this.#t=s:(this.#t="*",o.unshift(s)),o.forEach(i=>{this.#o(m,this.#t,i)}),this);let{strict:r,...n}=e;Object.assign(this,n),this.getPath=r??!0?e.getPath??fe:Ye}#e(){let e=new ge({router:this.router,getPath:this.getPath});return e.errorHandler=this.errorHandler,e.#r=this.#r,e.routes=this.routes,e}#r=Sn;errorHandler=nt;route(e,t){let r=this.basePath(e);return t.routes.map(n=>{let s;t.errorHandler===nt?s=n.handler:(s=a(async(o,i)=>(await le([],t.errorHandler)(o,()=>n.handler(o,i))).res,"handler"),s[rt]=n.handler),r.#o(n.method,n.path,s)}),this}basePath(e){let t=this.#e();return t._basePath=A(this._basePath,e),t}onError=a(e=>(this.errorHandler=e,this),"onError");notFound=a(e=>(this.#r=e,this),"notFound");mount(e,t,r){let n,s;r&&(typeof r=="function"?s=r:(s=r.optionHandler,r.replaceRequest===!1?n=a(l=>l,"replaceRequest"):n=r.replaceRequest));let o=s?l=>{let c=s(l);return Array.isArray(c)?c:[c]}:l=>{let c;try{c=l.executionCtx}catch{}return[l.env,c]};n||=(()=>{let l=A(this._basePath,e),c=l==="/"?0:l.length;return u=>{let d=new URL(u.url);return d.pathname=d.pathname.slice(c)||"/",new Request(d,u)}})();let i=a(async(l,c)=>{let u=await t(n(l.req.raw),...o(l));if(u)return u;await c()},"handler");return this.#o(m,A(e,"*"),i),this}#o(e,t,r){e=e.toUpperCase(),t=A(this._basePath,t);let n={basePath:this._basePath,path:t,method:e,handler:r};this.router.add(e,t,[r,n]),this.routes.push(n)}#s(e,t){if(e instanceof Error)return this.errorHandler(e,t);throw e}#n(e,t,r,n){if(n==="HEAD")return(async()=>new Response(null,await this.#n(e,t,r,"GET")))();let s=this.getPath(e,{env:r}),o=this.router.match(n,s),i=new Ze(e,{path:s,matchResult:o,env:r,executionCtx:t,notFoundHandler:this.#r});if(o[0].length===1){let c;try{c=o[0][0][0][0](i,async()=>{i.res=await this.#r(i)})}catch(u){return this.#s(u,i)}return c instanceof Promise?c.then(u=>u||(i.finalized?i.res:this.#r(i))).catch(u=>this.#s(u,i)):c??this.#r(i)}let l=le(o[0],this.errorHandler,this.#r);return(async()=>{try{let c=await l(i);if(!c.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return c.res}catch(c){return this.#s(c,i)}})()}fetch=a((e,...t)=>this.#n(e,t[1],t[0],e.method),"fetch");request=a((e,t,r,n)=>e instanceof Request?this.fetch(t?new Request(e,t):e,r,n):(e=e.toString(),this.fetch(new Request(/^https?:\/\//.test(e)?e:`http://localhost${A("/",e)}`,t),r,n)),"request");fire=a(()=>{addEventListener("fetch",e=>{e.respondWith(this.#n(e.request,e,void 0,e.request.method))})},"fire")};var ee="[^/]+",W=".*",$="(?:|/.*)",N=Symbol(),Cn=new Set(".\\+*[^]$()");function In(e,t){return e.length===1?t.length===1?e<t?-1:1:-1:t.length===1||e===W||e===$?1:t===W||t===$?-1:e===ee?1:t===ee?-1:e.length===t.length?e<t?-1:1:t.length-e.length}a(In,"compareKey");var te=class{static{a(this,"Node")}#t;#e;#r=Object.create(null);insert(e,t,r,n,s){if(e.length===0){if(this.#t!==void 0)throw N;if(s)return;this.#t=t;return}let[o,...i]=e,l=o==="*"?i.length===0?["","",W]:["","",ee]:o==="/*"?["","",$]:o.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/),c;if(l){let u=l[1],d=l[2]||ee;if(u&&l[2]&&(d===".*"||(d=d.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(d))))throw N;if(c=this.#r[d],!c){if(Object.keys(this.#r).some(f=>f!==W&&f!==$))throw N;if(s)return;c=this.#r[d]=new te,u!==""&&(c.#e=n.varIndex++)}!s&&u!==""&&r.push([u,c.#e])}else if(c=this.#r[o],!c){if(Object.keys(this.#r).some(u=>u.length>1&&u!==W&&u!==$))throw N;if(s)return;c=this.#r[o]=new te}c.insert(i,t,r,n,s)}buildRegExpStr(){let t=Object.keys(this.#r).sort(In).map(r=>{let n=this.#r[r];return(typeof n.#e=="number"?`(${r})@${n.#e}`:Cn.has(r)?`\\${r}`:r)+n.buildRegExpStr()});return typeof this.#t=="number"&&t.unshift(`#${this.#t}`),t.length===0?"":t.length===1?t[0]:"(?:"+t.join("|")+")"}};var st=class{static{a(this,"Trie")}#t={varIndex:0};#e=new te;insert(e,t,r){let n=[],s=[];for(let i=0;;){let l=!1;if(e=e.replace(/\{[^}]+\}/g,c=>{let u=`@\\${i}`;return s[i]=[u,c],i++,l=!0,u}),!l)break}let o=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let i=s.length-1;i>=0;i--){let[l]=s[i];for(let c=o.length-1;c>=0;c--)if(o[c].indexOf(l)!==-1){o[c]=o[c].replace(l,s[i][1]);break}}return this.#e.insert(o,t,n,this.#t,r),n}buildRegExp(){let e=this.#e.buildRegExpStr();if(e==="")return[/^$/,[],[]];let t=0,r=[],n=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(s,o,i)=>o!==void 0?(r[++t]=Number(o),"$()"):(i!==void 0&&(n[Number(i)]=++t),"")),[new RegExp(`^${e}`),r,n]}};var ot=[],Mn=[/^$/,[],Object.create(null)],it=Object.create(null);function at(e){return it[e]??=new RegExp(e==="*"?"":`^${e.replace(/\/\*$|([.\\+*[^\]$()])/g,(t,r)=>r?`\\${r}`:"(?:|/.*)")}$`)}a(at,"buildWildcardRegExp");function Dn(){it=Object.create(null)}a(Dn,"clearWildcardRegExpCache");function Ln(e){let t=new st,r=[];if(e.length===0)return Mn;let n=e.map(u=>[!/\*|\/:/.test(u[0]),...u]).sort(([u,d],[f,E])=>u?1:f?-1:d.length-E.length),s=Object.create(null);for(let u=0,d=-1,f=n.length;u<f;u++){let[E,w,g]=n[u];E?s[w]=[g.map(([y])=>[y,Object.create(null)]),ot]:d++;let x;try{x=t.insert(w,d,E)}catch(y){throw y===N?new Z(w):y}E||(r[d]=g.map(([y,S])=>{let D=Object.create(null);for(S-=1;S>=0;S--){let[R,ne]=x[S];D[R]=ne}return[y,D]}))}let[o,i,l]=t.buildRegExp();for(let u=0,d=r.length;u<d;u++)for(let f=0,E=r[u].length;f<E;f++){let w=r[u][f]?.[1];if(!w)continue;let g=Object.keys(w);for(let x=0,y=g.length;x<y;x++)w[g[x]]=l[w[g[x]]]}let c=[];for(let u in i)c[u]=r[i[u]];return[o,c,s]}a(Ln,"buildMatcherFromPreprocessedRoutes");function I(e,t){if(e){for(let r of Object.keys(e).sort((n,s)=>s.length-n.length))if(at(r).test(t))return[...e[r]]}}a(I,"findMiddleware");var Ee=class{static{a(this,"RegExpRouter")}name="RegExpRouter";#t;#e;constructor(){this.#t={[m]:Object.create(null)},this.#e={[m]:Object.create(null)}}add(e,t,r){let n=this.#t,s=this.#e;if(!n||!s)throw new Error(X);n[e]||[n,s].forEach(l=>{l[e]=Object.create(null),Object.keys(l[m]).forEach(c=>{l[e][c]=[...l[m][c]]})}),t==="/*"&&(t="*");let o=(t.match(/\/:/g)||[]).length;if(/\*$/.test(t)){let l=at(t);e===m?Object.keys(n).forEach(c=>{n[c][t]||=I(n[c],t)||I(n[m],t)||[]}):n[e][t]||=I(n[e],t)||I(n[m],t)||[],Object.keys(n).forEach(c=>{(e===m||e===c)&&Object.keys(n[c]).forEach(u=>{l.test(u)&&n[c][u].push([r,o])})}),Object.keys(s).forEach(c=>{(e===m||e===c)&&Object.keys(s[c]).forEach(u=>l.test(u)&&s[c][u].push([r,o]))});return}let i=Q(t)||[t];for(let l=0,c=i.length;l<c;l++){let u=i[l];Object.keys(s).forEach(d=>{(e===m||e===d)&&(s[d][u]||=[...I(n[d],u)||I(n[m],u)||[]],s[d][u].push([r,o-c+l+1]))})}}match(e,t){Dn();let r=this.#r();return this.match=(n,s)=>{let o=r[n]||r[m],i=o[2][s];if(i)return i;let l=s.match(o[0]);if(!l)return[[],ot];let c=l.indexOf("",1);return[o[1][c],l]},this.match(e,t)}#r(){let e=Object.create(null);return Object.keys(this.#e).concat(Object.keys(this.#t)).forEach(t=>{e[t]||=this.#o(t)}),this.#t=this.#e=void 0,e}#o(e){let t=[],r=e===m;return[this.#t,this.#e].forEach(n=>{let s=n[e]?Object.keys(n[e]).map(o=>[o,n[e][o]]):[];s.length!==0?(r||=!0,t.push(...s)):e!==m&&t.push(...Object.keys(n[m]).map(o=>[o,n[m][o]]))}),r?Ln(t):null}};var _e=class{static{a(this,"SmartRouter")}name="SmartRouter";#t=[];#e=[];constructor(e){this.#t=e.routers}add(e,t,r){if(!this.#e)throw new Error(X);this.#e.push([e,t,r])}match(e,t){if(!this.#e)throw new Error("Fatal error");let r=this.#t,n=this.#e,s=r.length,o=0,i;for(;o<s;o++){let l=r[o];try{for(let c=0,u=n.length;c<u;c++)l.add(...n[c]);i=l.match(e,t)}catch(c){if(c instanceof Z)continue;throw c}this.match=l.match.bind(l),this.#t=[l],this.#e=void 0;break}if(o===s)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,i}get activeRouter(){if(this.#e||this.#t.length!==1)throw new Error("No active router has been determined yet.");return this.#t[0]}};var B=Object.create(null),xe=class{static{a(this,"Node")}#t;#e;#r;#o=0;#s=B;constructor(e,t,r){if(this.#e=r||Object.create(null),this.#t=[],e&&t){let n=Object.create(null);n[e]={handler:t,possibleKeys:[],score:0},this.#t=[n]}this.#r=[]}insert(e,t,r){this.#o=++this.#o;let n=this,s=qe(t),o=[];for(let i=0,l=s.length;i<l;i++){let c=s[i],u=s[i+1],d=ze(c,u),f=Array.isArray(d)?d[0]:c;if(f in n.#e){n=n.#e[f],d&&o.push(d[1]);continue}n.#e[f]=new xe,d&&(n.#r.push(d),o.push(d[1])),n=n.#e[f]}return n.#t.push({[e]:{handler:r,possibleKeys:o.filter((i,l,c)=>c.indexOf(i)===l),score:this.#o}}),n}#n(e,t,r,n){let s=[];for(let o=0,i=e.#t.length;o<i;o++){let l=e.#t[o],c=l[t]||l[m],u={};if(c!==void 0&&(c.params=Object.create(null),s.push(c),r!==B||n&&n!==B))for(let d=0,f=c.possibleKeys.length;d<f;d++){let E=c.possibleKeys[d],w=u[c.score];c.params[E]=n?.[E]&&!w?n[E]:r[E]??n?.[E],u[c.score]=!0}}return s}search(e,t){let r=[];this.#s=B;let s=[this],o=de(t),i=[];for(let l=0,c=o.length;l<c;l++){let u=o[l],d=l===c-1,f=[];for(let E=0,w=s.length;E<w;E++){let g=s[E],x=g.#e[u];x&&(x.#s=g.#s,d?(x.#e["*"]&&r.push(...this.#n(x.#e["*"],e,g.#s)),r.push(...this.#n(x,e,g.#s))):f.push(x));for(let y=0,S=g.#r.length;y<S;y++){let D=g.#r[y],R=g.#s===B?{}:{...g.#s};if(D==="*"){let b=g.#e["*"];b&&(r.push(...this.#n(b,e,g.#s)),b.#s=R,f.push(b));continue}let[ne,be,L]=D;if(!u&&!(L instanceof RegExp))continue;let T=g.#e[ne],mt=o.slice(l).join("/");if(L instanceof RegExp){let b=L.exec(mt);if(b){if(R[be]=b[0],r.push(...this.#n(T,e,g.#s,R)),Object.keys(T.#e).length){T.#s=R;let gt=b[0].match(/\//)?.length??0;(i[gt]||=[]).push(T)}continue}}(L===!0||L.test(u))&&(R[be]=u,d?(r.push(...this.#n(T,e,R,g.#s)),T.#e["*"]&&r.push(...this.#n(T.#e["*"],e,R,g.#s))):(T.#s=R,f.push(T)))}}s=f.concat(i.shift()??[])}return r.length>1&&r.sort((l,c)=>l.score-c.score),[r.map(({handler:l,params:c})=>[l,c])]}};var we=class{static{a(this,"TrieRouter")}name="TrieRouter";#t;constructor(){this.#t=new xe}add(e,t,r){let n=Q(t);if(n){for(let s=0,o=n.length;s<o;s++)this.#t.insert(e,n[s],r);return}this.#t.insert(e,t,r)}match(e,t){return this.#t.search(e,t)}};var ye=class extends ge{static{a(this,"Hono")}constructor(e={}){super(e),this.router=e.router??new _e({routers:[new Ee,new we]})}};var ct=a(e=>{let r={...{origin:"*",allowMethods:["GET","HEAD","PUT","POST","DELETE","PATCH"],allowHeaders:[],exposeHeaders:[]},...e},n=(o=>typeof o=="string"?o==="*"?()=>o:i=>o===i?i:null:typeof o=="function"?o:i=>o.includes(i)?i:null)(r.origin),s=(o=>typeof o=="function"?o:Array.isArray(o)?()=>o:()=>[])(r.allowMethods);return a(async function(i,l){function c(d,f){i.res.headers.set(d,f)}a(c,"set");let u=await n(i.req.header("origin")||"",i);if(u&&c("Access-Control-Allow-Origin",u),r.origin!=="*"){let d=i.req.header("Vary");d?c("Vary",d):c("Vary","Origin")}if(r.credentials&&c("Access-Control-Allow-Credentials","true"),r.exposeHeaders?.length&&c("Access-Control-Expose-Headers",r.exposeHeaders.join(",")),i.req.method==="OPTIONS"){r.maxAge!=null&&c("Access-Control-Max-Age",r.maxAge.toString());let d=await s(i.req.header("origin")||"",i);d.length&&c("Access-Control-Allow-Methods",d.join(","));let f=r.allowHeaders;if(!f?.length){let E=i.req.header("Access-Control-Request-Headers");E&&(f=E.split(/\s*,\s*/))}return f?.length&&(c("Access-Control-Allow-Headers",f.join(",")),i.res.headers.append("Vary","Access-Control-Request-Headers")),i.res.headers.delete("Content-Length"),i.res.headers.delete("Content-Type"),new Response(null,{headers:i.res.headers,status:204,statusText:"No Content"})}await l()},"cors2")},"cors");var M=new ye;M.use("*",ct({origin:["http://localhost:5173","http://localhost:3000"],allowMethods:["GET","POST","PUT","DELETE","OPTIONS"],allowHeaders:["Content-Type","Authorization"]}));M.post("/api/waitlist",async e=>{try{let{email:t,walletAddress:r,signature:n,network:s}=await e.req.json();if(!t||!r||!n)return e.json({error:"Email, wallet address, and signature are required"},400);if(!/^0x[a-fA-F0-9]{130}$/.test(n))return e.json({error:"Invalid signature format"},400);if(!/^0x[a-fA-F0-9]{40}$/.test(r))return e.json({error:"Invalid wallet address format"},400);let o=await e.env.WAITING_LIST.get(t),i=await e.env.WAITING_LIST.get(`wallet:${r}`);if(o)return e.json({error:"Email already registered"},409);if(i)return e.json({error:"Wallet address already registered"},409);let l={email:t,walletAddress:r,signature:n,network:s||"unknown",joinedAt:new Date().toISOString(),position:await Hn(e.env.WAITING_LIST)};return await e.env.WAITING_LIST.put(t,JSON.stringify(l)),await e.env.WAITING_LIST.put(`wallet:${r}`,JSON.stringify(l)),await e.env.WAITING_LIST.put(`position:${l.position}`,t),await kn(e.env,t,l.position),e.json({message:"Successfully joined waiting list",position:l.position,email:l.email,walletAddress:l.walletAddress})}catch(t){return console.error("Waitlist registration error:",t),e.json({error:"Internal server error"},500)}});M.get("/api/waitlist/:email",async e=>{try{let t=e.req.param("email"),r=await e.env.WAITING_LIST.get(t);return r?e.json(JSON.parse(r)):e.json({error:"Email not found"},404)}catch{return e.json({error:"Internal server error"},500)}});M.get("/api/waitlist",async e=>{try{let r=(await e.env.WAITING_LIST.list({prefix:"position:"})).keys.length;return e.json({total:r})}catch{return e.json({error:"Internal server error"},500)}});async function Hn(e){return(await e.list({prefix:"position:"})).keys.length+1}a(Hn,"getNextPosition");async function kn(e,t,r){if(!e.RESEND_API_KEY)return console.log("Resend API key not configured, skipping email"),!0;try{let n="Welcome to our Waiting List! \u{1F389}",s=`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <style>
          body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
          .container { max-width: 600px; margin: 0 auto; padding: 20px; }
          .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; text-align: center; border-radius: 10px 10px 0 0; }
          .content { background: #f9f9f9; padding: 30px; border-radius: 0 0 10px 10px; }
          .position { font-size: 24px; font-weight: bold; color: #667eea; text-align: center; margin: 20px 0; }
          .footer { text-align: center; margin-top: 30px; color: #666; font-size: 14px; }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <h1>\u{1F389} You're on the list!</h1>
          </div>
          <div class="content">
            <p>Hi there,</p>
            <p>Thank you for joining our waiting list! We're excited to have you on board.</p>
            
            <div class="position">
              You are #${r} in line
            </div>
            
            <p>We'll notify you as soon as we launch. In the meantime, feel free to follow our progress and updates.</p>
            
            <p>Best regards,<br>
            The Team</p>
          </div>
          <div class="footer">
            <p>This email was sent because you joined our waiting list.<br>
            If you have any questions, please contact us.</p>
          </div>
        </div>
      </body>
      </html>
    `,o=await fetch("https://api.resend.com/emails",{method:"POST",headers:{Authorization:`Bearer ${e.RESEND_API_KEY}`,"Content-Type":"application/json"},body:JSON.stringify({from:e.FROM_EMAIL||"Waiting List <noreply@yourdomain.com>",to:[t],subject:n,html:s})});if(o.ok)return console.log("Welcome email sent successfully to:",t),!0;{let i=await o.text();return console.error("Failed to send email:",i),!1}}catch(n){return console.error("Failed to send email:",n),!1}}a(kn,"sendWelcomeEmail");M.get("*",async()=>new Response("Not Found",{status:404}));var lt=M;var jn=a(async(e,t,r,n)=>{try{return await n.next(e,t)}finally{try{if(e.body!==null&&!e.bodyUsed){let s=e.body.getReader();for(;!(await s.read()).done;);}}catch(s){console.error("Failed to drain the unused request body.",s)}}},"drainBody"),ut=jn;function dt(e){return{name:e?.name,message:e?.message??String(e),stack:e?.stack,cause:e?.cause===void 0?void 0:dt(e.cause)}}a(dt,"reduceError");var Wn=a(async(e,t,r,n)=>{try{return await n.next(e,t)}catch(s){let o=dt(s);return Response.json(o,{status:500,headers:{"MF-Experimental-Error-Stack":"true"}})}},"jsonError"),ft=Wn;var P=[ut,ft],G=lt;var ht=[];function Re(...e){ht.push(...e.flat())}a(Re,"__facade_register__");function pt(e,t,r,n,s){let[o,...i]=s;return o(e,t,r,{dispatch:n,next(c,u){return pt(c,u,r,n,i)}})}a(pt,"__facade_invokeChain__");function Te(e,t,r,n,s){return pt(e,t,r,n,[...ht,s])}a(Te,"__facade_invoke__");var re=class e{constructor(t,r,n){this.scheduledTime=t;this.cron=r;this.#t=n}static{a(this,"__Facade_ScheduledController__")}#t;noRetry(){if(!(this instanceof e))throw new TypeError("Illegal invocation");this.#t()}};function Bn(e){if(P===void 0||P.length===0)return e;for(let r of P)Re(r);let t=a(function(r,n,s){if(e.fetch===void 0)throw new Error("Handler does not export a fetch() function.");return e.fetch(r,n,s)},"fetchDispatcher");return{...e,fetch(r,n,s){return Te(r,n,s,a(function(i,l){if(i==="scheduled"&&e.scheduled!==void 0){let c=new re(Date.now(),l.cron??"",()=>{});return e.scheduled(c,n,s)}},"dispatcher"),t)}}}a(Bn,"wrapExportedHandler");function Gn(e){if(P===void 0||P.length===0)return e;for(let t of P)Re(t);return class extends e{#t=a((t,r,n)=>{if(this.env=r,this.ctx=n,super.fetch===void 0)throw new Error("Entrypoint class does not define a fetch() function.");return super.fetch(t)},"#fetchDispatcher");#e=a((t,r)=>{if(t==="scheduled"&&super.scheduled!==void 0){let n=new re(Date.now(),r.cron??"",()=>{});return super.scheduled(n)}},"#dispatcher");fetch(t){return Te(t,this.env,this.ctx,this.#e,this.#t)}}}a(Gn,"wrapWorkerEntrypoint");var ve;typeof G=="object"?ve=Bn(G):typeof G=="function"&&(ve=Gn(G));var uu=ve;export{P as __INTERNAL_WRANGLER_MIDDLEWARE__,uu as default};
//# sourceMappingURL=worker.js.map
